@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom styles moved from inline styles */

/* DashboardCategoryBarCard - dynamic width */
.category-bar-item {
  width: var(--category-bar-width, 0%);
}

/* Tooltip - dynamic positioning */
.tooltip-positioned {
  top: var(--tooltip-top, 0px);
  left: var(--tooltip-left, 0px);
}

/* ProgressBar - dynamic width */
.progress-bar-fill {
  width: var(--progress-width, 0%);
}

/* Drawer - animation styles */
.drawer-overlay-animated {
  animation-duration: 400ms;
  animation-fill-mode: backwards;
}

/* LineChart - SVG text anchor */
.chart-label-text-anchor {
  text-anchor: middle;
}

/* 
 * Note: icon.tsx and apple-icon.tsx use Next.js ImageResponse API which only supports inline styles.
 * The styles are extracted to constants in those files for maintainability.
 * Icon styles:
 * - fontSize: 18px (icon.tsx) / 72px (apple-icon.tsx)
 * - background: #158ce2
 * - width: 100%
 * - height: 100%
 * - display: flex
 * - alignItems: center
 * - justifyContent: center
 * - color: white
 * - fontWeight: bold
 * - borderRadius: 6px (icon.tsx) / 32px (apple-icon.tsx)
 */

/* ✅ Fonts: Inter (EN) + Noto Sans Arabic (AR) */
@layer base {
  body {
    font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }

  html:lang(ar) body,
  [dir="rtl"] body {
    font-family: var(--font-arabic), var(--font-sans), ui-sans-serif, system-ui;
  }
}

/* Global Button Styles for Dashboard Widgets */
@layer components {
  .btn-primary-widget {
    @apply h-9 px-4 text-xs font-semibold rounded-full;
  }

  .btn-secondary-widget {
    @apply h-9 px-4 text-xs font-semibold rounded-full;
  }

  /* Card action buttons (e.g. Reschedule, Cancel, Fill Slot) – use text-sm */
  .btn-card-action {
    @apply text-sm;
  }

  /* Shared card surface: border, shadow, rounded, background – used by widget rows (Now Queue) and list cards (e.g. patient cards) */
  .card-surface {
    @apply rounded-xl border border-gray-100 bg-white shadow-sm transition-colors dark:border-gray-800 dark:bg-gray-900 hover:border-gray-200 dark:hover:border-gray-700;
  }

  /* Widget Row Layout (Now Queue, Today's Appointments) */
  .widget-row {
    @apply card-surface flex items-center justify-between p-3;
  }

  /* Widget Content Groups */
  .widget-content-stack {
    @apply flex items-center gap-3 flex-1 min-w-0;
  }

  /* Widget Text Styles */
  .text-widget-title {
    @apply font-medium text-gray-900 dark:text-white truncate;
  }

  .text-widget-description {
    @apply text-sm text-gray-600 dark:text-gray-400 truncate;
  }

  .text-widget-metadata {
    @apply text-xs font-medium text-gray-500 dark:text-gray-400;
  }

  /* Status Indicators */
  .widget-status-accent {
    @apply absolute left-0 top-0 bottom-0 w-1;
  }

  /* Page Content Container - Consistent spacing between page header/title and first component (matches dashboard) */
  .page-content {
    @apply space-y-6;
  }

  /* Nested Dropdowns - Mobile fixes */
  @media (max-width: 1023px) {
    /* Ensure nested dropdowns don't overflow viewport */
    [data-radix-popper-content-wrapper] {
      max-width: calc(100vw - 2rem) !important;
    }
    
    /* Adjust nested dropdown positioning on mobile */
    [data-radix-dropdown-menu-sub-content] {
      max-width: calc(100vw - 2rem) !important;
    }
  }
}
